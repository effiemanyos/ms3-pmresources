{% extends "base.html" %}
{% block content %}

    <div class="container">
        <!-- Page Title -->
        <br>
        <h3 class="center-align indigo-text text-accent-3">Manage Product-Related<br>Categories</h3>
        <br>
        <br>
        <!-- Add Category Button -->
        <div class="row">
            <div class="col s12 center-align">
                <a href="{{ url_for('add_category') }}" class="btn indigo accent-3 text-shadow button-styling">
                    Add Category <i class="fas fa-plus-circle left"></i>
                </a>
            </div>
        </div>
        <br>
        <br>
        <!-- All Categories -->
        <div class="row">
            {% for category in categories %}
            <div class="col s12 m3">
                <!-- Cards -->
                <div class="card white-text indigo accent-3 text-shadow center-align card-styling">
                    <!-- Categories -->
                    <div class="card-content white-text">
                        <span class="card-title">{{ category.category_name }}</span>
                    </div>
                    <!-- Edit & Delete Buttons -->
                    <div class="card-action grey lighten-5">
                        <a href="{{ url_for('edit_category', category_id=category._id) }}"
                            class="btn-small cyan accent-4 white-text text-shadow button-styling">Edit</a>
                        <button data-target="modal1"
                            class="btn-small red white-text text-shadow button-styling modal-trigger">Delete</button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <br>
    <br>
    <br>
    <!-- Delete Category Modal -->
    {% for category in categories %}
        <div id="modal1" class="modal modal-styling">
            <div class="modal-content">
                <h4 class="center-align modal-heading">CONFIRM YOUR DECISION</h4>
                <h5 class="center-align">Are you sure you want to delete this category?</h5>
                <h6 class="center-align">After you click on <em>delete</em>, you won't be able to recover it. This change is
                    permanent!</h6>
            </div>
            <div class="modal-footer">
                <a href="{{ url_for('get_categories') }}" class="btn indigo accent-3 button-styling">Cancel</a>
                <a href="{{ url_for('delete_category', category_id=category._id) }}"
                    class="btn red accent-4 button-styling">Delete</a>
            </div>
        </div>
    {% endfor %}

{% endblock %}